<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS | Orders Management</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        :root {
            /* Core Palette - Light Mode (Default) */
            --bg-dark: #f8fafc;
            /* Slate 50 */
            --bg-panel: rgba(255, 255, 255, 0.7);
            --bg-card: rgba(255, 255, 255, 0.5);

            /* Accents */
            --primary: #06b6d4;
            /* Cyan 500 */
            --primary-glow: rgba(6, 182, 212, 0.2);
            --secondary: #8b5cf6;
            /* Violet 500 */
            --accent: #f43f5e;
            /* Rose 500 */

            /* Text */
            --text-main: #0f172a;
            /* Slate 900 */
            --text-muted: #64748b;
            /* Slate 500 */
            --text-dim: #94a3b8;
            /* Slate 400 */

            /* Borders */
            --border-light: rgba(0, 0, 0, 0.05);
            --border-glow: rgba(6, 182, 212, 0.3);

            /* Spacing */
            --sidebar-width: 280px;
            --sidebar-width-collapsed: 80px;
            --header-height: 80px;
        }

        /* Dark Mode Overrides */
        body.dark-mode {
            --bg-dark: #030712;
            --bg-panel: rgba(17, 24, 39, 0.7);
            --bg-card: rgba(31, 41, 55, 0.4);

            --primary-glow: rgba(6, 182, 212, 0.5);

            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --text-dim: #475569;

            --border-light: rgba(255, 255, 255, 0.05);
        }

        /* Adjust gradients for dark mode */
        body.dark-mode {
            background-image:
                radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 40%);
        }

        /* Adjust glass effects for dark mode */
        body.dark-mode .glass {
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }

        body.dark-mode .glass-card {
            box-shadow: none;
        }

        body.dark-mode .glass-card:hover {
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.15);
        }

        /* Adjust logo text for dark mode */
        body.dark-mode .logo-text {
            background: linear-gradient(to right, #fff, #94a3b8);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Adjust hover states for dark mode */
        body.dark-mode .nav-item:hover {
            color: #fff;
            background: rgba(255, 255, 255, 0.03);
        }

        body.dark-mode .search-bar input {
            background: rgba(255, 255, 255, 0.03);
            color: #fff;
        }

        body.dark-mode .search-bar input:focus {
            background: rgba(6, 182, 212, 0.05);
        }

        body.dark-mode .icon-btn {
            background: rgba(255, 255, 255, 0.03);
        }

        body.dark-mode .icon-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .user-profile {
            background: rgba(255, 255, 255, 0.03);
        }

        body.dark-mode .avatar {
            background: linear-gradient(45deg, #333, #555);
            border-color: var(--primary);
        }

        body.dark-mode .avatar::after {
            border-color: var(--bg-dark);
        }

        body.dark-mode .stat-value {
            color: #fff;
        }

        body.dark-mode tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        body.dark-mode .chart-title {
            color: #fff;
        }

        body.dark-mode th {
            color: var(--text-muted);
            border-bottom-color: var(--border-light);
        }

        body.dark-mode td {
            color: var(--text-main);
            border-bottom-color: var(--border-light);
        }

        body.dark-mode tr:hover td {
            background: rgba(255, 255, 255, 0.05);
        }

        /* Payment Badges */
        .amount-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .payment-badge {
            width: 24px;
            height: 24px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            cursor: help;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .payment-badge svg {
            width: 12px;
            height: 12px;
            stroke-width: 2.5;
        }

        /* Card Style */
        .payment-badge.card {
            background: rgba(6, 182, 212, 0.1);
            color: var(--primary);
            border: 1px solid rgba(6, 182, 212, 0.2);
        }

        .payment-badge.card:hover {
            background: rgba(6, 182, 212, 0.2);
            box-shadow: 0 0 10px rgba(6, 182, 212, 0.2);
            transform: translateY(-1px);
        }

        /* COD Style */
        .payment-badge.cod {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .payment-badge.cod:hover {
            background: rgba(16, 185, 129, 0.2);
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.2);
            transform: translateY(-1px);
        }

        /* Dark Mode Overrides for Badges */
        body.dark-mode .payment-badge.card {
            background: rgba(6, 182, 212, 0.15);
            border-color: rgba(6, 182, 212, 0.3);
        }

        body.dark-mode .payment-badge.cod {
            background: rgba(16, 185, 129, 0.15);
            border-color: rgba(16, 185, 129, 0.3);
        }

        body.dark-mode .page-title h1 {
            background: linear-gradient(to right, #fff, #cbd5e1);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--bg-dark);
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            background-image:
                radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 40%);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
            display: flex;
        }

        /* Typography */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Outfit', sans-serif;
            letter-spacing: -0.02em;
        }

        /* Glassmorphism Utilities */
        .glass {
            background: var(--bg-panel);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.03);
        }

        .glass-card {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
        }

        .glass-card:hover {
            border-color: var(--border-glow);
            box-shadow: 0 10px 25px -5px rgba(6, 182, 212, 0.15), 0 8px 10px -6px rgba(6, 182, 212, 0.1);
            transform: translateY(-2px);
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            height: 100%;
            display: flex;
            flex-direction: column;
            padding: 2rem;
            border-right: 1px solid var(--border-light);
            z-index: 50;
            transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .sidebar.collapsed {
            width: var(--sidebar-width-collapsed);
            padding: 2rem 1rem;
        }

        .sidebar.collapsed .logo-text,
        .sidebar.collapsed .nav-item span,
        .sidebar.collapsed .user-info,
        .sidebar.collapsed .profile-chevron {
            display: none;
            opacity: 0;
        }

        .sidebar.collapsed .logo-container {
            justify-content: center;
        }

        .sidebar.collapsed .nav-item {
            justify-content: center;
            padding: 1rem;
        }

        .sidebar.collapsed .user-profile {
            justify-content: center;
            padding: 0.75rem;
        }

        .sidebar.collapsed .nav-item svg {
            width: 24px;
            height: 24px;
            min-width: 24px;
            min-height: 24px;
        }

        .sidebar.collapsed .workspace-info,
        .sidebar.collapsed .selector-chevron {
            display: none;
        }

        .sidebar.collapsed .workspace-selector {
            justify-content: center;
            padding: 0.75rem;
        }

        /* Sidebar Toggle Button */
        .sidebar-toggle {
            position: absolute;
            top: 50%;
            right: -12px;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: var(--bg-dark);
            border: 1px solid var(--border-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-muted);
            z-index: 60;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .logo-container {
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            position: relative;
        }

        .app-brand {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding-left: 0.5rem;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px var(--primary-glow);
            color: white;
            flex-shrink: 0;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--text-main), var(--text-muted));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .workspace-selector {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .workspace-selector::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .workspace-selector:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--border-glow);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .workspace-selector:hover::before {
            opacity: 1;
        }

        .workspace-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: 0 2px 8px var(--primary-glow);
            position: relative;
            z-index: 1;
        }

        .workspace-info {
            flex: 1;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .workspace-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-main);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .workspace-role {
            font-size: 0.75rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .workspace-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            margin-top: 0.5rem;
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 0.5rem;
            display: none;
            flex-direction: column;
            gap: 0.25rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            z-index: 100;
            opacity: 0;
            transform: translateY(-10px) scale(0.98);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .workspace-dropdown.show {
            display: flex;
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .workspace-search {
            padding: 0.5rem;
            margin-bottom: 0.25rem;
            position: relative;
        }

        .workspace-search input {
            width: 100%;
            padding: 0.5rem 0.75rem 0.5rem 2rem;
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid transparent;
            border-radius: 8px;
            color: var(--text-main);
            font-size: 0.85rem;
            transition: all 0.2s ease;
        }

        .workspace-search input:focus {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
            outline: none;
        }

        .workspace-search i {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            width: 14px;
            height: 14px;
        }

        .workspace-list {
            max-height: 200px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .workspace-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .workspace-item:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.05);
        }

        .workspace-item.active {
            background: rgba(6, 182, 212, 0.08);
            border-color: rgba(6, 182, 212, 0.2);
        }

        .workspace-item .item-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #475569;
            font-size: 1rem;
        }

        .workspace-item.active .item-icon {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 2px 8px var(--primary-glow);
        }

        .workspace-actions {
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid var(--border-light);
        }

        .create-workspace-btn {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.6rem;
            border-radius: 8px;
            background: transparent;
            border: 1px dashed var(--border-light);
            color: var(--text-muted);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .create-workspace-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: rgba(6, 182, 212, 0.05);
        }

        body.dark-mode .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        body.dark-mode .dropdown-icon {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-main);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* Header */
        .header {
            height: var(--header-height);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            border-bottom: 1px solid var(--border-light);
        }

        .search-bar {
            position: relative;
            width: 400px;
        }

        .search-bar input {
            width: 100%;
            background: rgba(0, 0, 0, 0.03);
            border: 1px solid var(--border-light);
            padding: 0.75rem 1rem 0.75rem 3rem;
            border-radius: 12px;
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(6, 182, 212, 0.1);
            background: #fff;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            width: 18px;
            height: 18px;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .icon-btn {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.03);
            border: 1px solid var(--border-light);
            color: var(--text-main);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .icon-btn:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--primary);
        }

        .notification-dot {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            box-shadow: 0 0 5px var(--accent);
        }

        /* Dashboard Content */
        .dashboard-container {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            margin-bottom: 1rem;
        }

        .page-title h1 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, #0f172a, #64748b);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .page-title p {
            color: var(--text-muted);
        }

        .action-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--primary), #0891b2);
            border: none;
            border-radius: 12px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(6, 182, 212, 0.4);
        }

        /* Recent Orders Table */
        .table-container {
            padding: 0;
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            padding: 0;
            /* Remove padding to maximize space */
        }

        .table-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 0 1.5rem;
            /* Add horizontal padding back */
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        th {
            text-align: left;
            padding: 0.75rem 1rem;
            /* Reduced padding */
            color: var(--text-muted);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-light);
            position: sticky;
            top: 0;
            background: var(--bg-dark);
            /* Ensure header is readable */
            z-index: 10;
            backdrop-filter: blur(12px);
            /* Glassmorphism for header */
        }

        /* Fix for glassmorphism background on sticky header */
        th::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-panel);
            opacity: 0.9;
            z-index: -1;
        }

        td {
            padding: 0.5rem 1rem;
            /* Reduced padding */
            border-bottom: 1px solid var(--border-light);
            color: var(--text-main);
            font-size: 0.875rem;
            vertical-align: middle;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        .status-badge {
            padding: 0.25rem 0.6rem;
            /* Compact badge */
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        .status-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .status-completed {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .status-completed::before {
            background: #10b981;
        }

        .status-pending {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }

        .status-pending::before {
            background: #f59e0b;
        }

        .status-processing {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .status-processing::before {
            background: #3b82f6;
        }

        .status-cancelled {
            background: rgba(244, 63, 94, 0.1);
            color: #f43f5e;
            border: 1px solid rgba(244, 63, 94, 0.2);
        }

        .status-cancelled::before {
            background: #f43f5e;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Pagination */
        .pagination {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            border-top: 1px solid var(--border-light);
        }

        .pagination-info {
            color: var(--text-muted);
            font-size: 0.875rem;
        }

        .pagination-controls {
            display: flex;
            gap: 0.5rem;
        }

        .page-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            border: 1px solid var(--border-light);
            background: transparent;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.875rem;
        }

        .page-btn:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--text-main);
        }

        .page-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        body.dark-mode .page-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .page-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        body.dark-mode .page-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Document Badges */
        .doc-group {
            display: flex;
            gap: 0.5rem;
        }

        .doc-badge {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid transparent;
        }

        .doc-badge:hover {
            transform: translateY(-2px);
        }

        .doc-invoice {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            border-color: rgba(59, 130, 246, 0.2);
        }

        .doc-invoice:hover {
            background: rgba(59, 130, 246, 0.2);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }

        .doc-shipping {
            background: rgba(139, 92, 246, 0.1);
            color: #8b5cf6;
            border-color: rgba(139, 92, 246, 0.2);
        }

        .doc-shipping:hover {
            background: rgba(139, 92, 246, 0.2);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
        }

        /* Tooltip */
        .doc-badge::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-5px);
            background: var(--bg-dark);
            color: var(--text-main);
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            pointer-events: none;
            border: 1px solid var(--border-light);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .doc-badge:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-8px);
        }

        /* Custom Premium Tooltip */
        .custom-tooltip {
            position: fixed;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.1), 0 0 15px rgba(6, 182, 212, 0.1);
            border-radius: 16px;
            padding: 1.25rem;
            pointer-events: none;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px) scale(0.95);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 320px;
            color: var(--text-main);
        }

        body.dark-mode .custom-tooltip {
            background: rgba(17, 24, 39, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.4), 0 0 15px rgba(6, 182, 212, 0.1);
        }

        .custom-tooltip.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }

        .tooltip-header {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
            font-weight: 600;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        body.dark-mode .tooltip-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .tooltip-content {
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .tooltip-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .tooltip-item:last-child {
            margin-bottom: 0;
        }

        .tooltip-item-icon {
            width: 32px;
            height: 32px;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            flex-shrink: 0;
        }

        body.dark-mode .tooltip-item-icon {
            background: rgba(255, 255, 255, 0.05);
        }

        .tooltip-item-details {
            flex: 1;
        }

        .tooltip-item-name {
            font-weight: 500;
            color: var(--text-main);
        }

        .tooltip-item-meta {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Bulk Actions Dropdown */
        .bulk-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            width: 260px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(0, 0, 0, 0.1);
            box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.1), 0 0 15px rgba(6, 182, 212, 0.1);
            border-radius: 16px;
            padding: 0.5rem;
            margin-top: 0.5rem;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 100;
            overflow: hidden;
        }

        body.dark-mode .bulk-dropdown {
            background: rgba(17, 24, 39, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.4), 0 0 15px rgba(6, 182, 212, 0.1);
        }

        .bulk-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .bulk-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-main);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.2s ease;
            opacity: 0;
            transform: translateX(-10px);
        }

        .bulk-dropdown.show .bulk-item {
            opacity: 1;
            transform: translateX(0);
        }

        .bulk-item:hover {
            background: rgba(6, 182, 212, 0.1);
            color: var(--primary);
            padding-left: 1.25rem;
            /* Slide effect on hover */
        }

        .bulk-item i {
            width: 16px;
            height: 16px;
            transition: transform 0.2s ease;
        }

        .bulk-item:hover i {
            transform: scale(1.1);
        }

        /* Staggered Animation Delays */
        .bulk-dropdown.show .bulk-item:nth-child(1) {
            transition-delay: 0.05s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(2) {
            transition-delay: 0.1s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(3) {
            transition-delay: 0.15s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(4) {
            transition-delay: 0.2s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(5) {
            transition-delay: 0.25s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(6) {
            transition-delay: 0.3s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(7) {
            transition-delay: 0.35s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(8) {
            transition-delay: 0.4s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(9) {
            transition-delay: 0.45s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(10) {
            transition-delay: 0.5s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(11) {
            transition-delay: 0.55s;
        }

        .bulk-dropdown.show .bulk-item:nth-child(12) {
            transition-delay: 0.6s;
        }

        /* Timeline Styles for Status Tooltip */
        .timeline {
            position: relative;
            padding-left: 1.5rem;
            margin-top: 0.5rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 6px;
            top: 4px;
            bottom: 4px;
            width: 2px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 2px;
        }

        body.dark-mode .timeline::before {
            background: rgba(255, 255, 255, 0.1);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 1.25rem;
            opacity: 0;
            transform: translateX(-10px);
            animation: slideInRight 0.3s ease forwards;
        }

        .timeline-item:last-child {
            margin-bottom: 0;
        }

        .timeline-dot {
            position: absolute;
            left: -1.5rem;
            top: 4px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--bg-panel);
            border: 2px solid var(--text-muted);
            z-index: 1;
            transition: all 0.3s ease;
        }

        .timeline-item.completed .timeline-dot {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
        }

        .timeline-item.current .timeline-dot {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.4);
            animation: pulse 2s infinite;
        }

        .timeline-content {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .timeline-title {
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--text-main);
        }

        .timeline-date {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(6, 182, 212, 0.4);
            }

            70% {
                box-shadow: 0 0 0 6px rgba(6, 182, 212, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(6, 182, 212, 0);
            }
        }

        /* Order Details Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            background: var(--bg-panel);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-light);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transform: scale(0.95) translateY(20px);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .modal-overlay.active .modal-container {
            transform: scale(1) translateY(0);
        }

        .modal-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.02);
        }

        .modal-title h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            background: linear-gradient(135deg, var(--text-main), var(--text-muted));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            border: 1px solid var(--border-light);
            background: rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-muted);
        }

        .modal-close:hover {
            background: rgba(244, 63, 94, 0.1);
            color: var(--accent);
            border-color: rgba(244, 63, 94, 0.2);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 2rem;
            overflow-y: auto;
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 2rem;
        }

        .modal-section-title {
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .order-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 1.25rem;
        }

        .info-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .info-value {
            font-weight: 600;
            color: var(--text-main);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .product-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .product-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            transition: all 0.2s ease;
        }

        .product-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateX(5px);
        }

        .product-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: rgba(6, 182, 212, 0.1);
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .timeline-vertical {
            position: relative;
            padding-left: 2rem;
        }

        .timeline-vertical::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 10px;
            bottom: 10px;
            width: 2px;
            background: var(--border-light);
            border-radius: 2px;
        }

        .timeline-step {
            position: relative;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateX(20px);
            animation: slideInRight 0.4s ease forwards;
        }

        .timeline-step:last-child {
            margin-bottom: 0;
        }

        .step-dot {
            position: absolute;
            left: -2rem;
            top: 0;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--bg-panel);
            border: 2px solid var(--text-muted);
            z-index: 1;
            transition: all 0.3s ease;
        }

        .timeline-step.completed .step-dot {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.2);
        }

        .timeline-step.current .step-dot {
            background: var(--primary);
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.4);
            animation: pulse 2s infinite;
        }

        .step-content {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 1rem;
        }

        .step-title {
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 0.25rem;
        }

        .step-date {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .modal-footer {
            padding: 1.5rem 2rem;
            border-top: 1px solid var(--border-light);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.02);
        }

        /* Tracking Modal & Animations */
        .tracking-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(3, 7, 18, 0.85);
            backdrop-filter: blur(12px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .tracking-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .tracking-container {
            width: 800px;
            height: 500px;
            background: linear-gradient(145deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));
            border: 1px solid rgba(6, 182, 212, 0.3);
            border-radius: 24px;
            box-shadow: 0 0 50px rgba(6, 182, 212, 0.15), inset 0 0 20px rgba(6, 182, 212, 0.05);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .tracking-modal-overlay.active .tracking-container {
            transform: scale(1);
        }

        /* Radar Effect */
        .radar-grid {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150%;
            height: 150%;
            background-image:
                radial-gradient(circle, rgba(6, 182, 212, 0.1) 1px, transparent 1px),
                linear-gradient(rgba(6, 182, 212, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(6, 182, 212, 0.05) 1px, transparent 1px);
            background-size: 40px 40px, 100px 100px, 100px 100px;
            background-position: center center;
            opacity: 0.3;
            animation: gridRotate 60s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        .radar-scan {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 600px;
            height: 600px;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 1px solid rgba(6, 182, 212, 0.1);
            z-index: 1;
        }

        .radar-scan::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 50%;
            background: linear-gradient(45deg, rgba(6, 182, 212, 0.5) 0%, transparent 50%);
            transform-origin: top left;
            animation: radarSpin 4s linear infinite;
            filter: blur(5px);
        }

        /* Map Points */
        .map-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--primary);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary);
            z-index: 2;
            opacity: 0;
            transform: scale(0);
        }

        .map-point.active {
            animation: pointPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .map-point::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border: 1px solid var(--primary);
            border-radius: 50%;
            animation: ripple 2s infinite;
        }

        /* Connection Lines */
        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), transparent);
            transform-origin: left center;
            z-index: 1;
            opacity: 0;
            width: 0;
            transition: width 0.5s ease, opacity 0.3s ease;
        }

        /* Tracking UI */
        .tracking-header {
            padding: 2rem;
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .tracking-title h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(6, 182, 212, 0.5);
        }

        .tracking-status {
            font-family: 'Courier New', monospace;
            color: var(--primary);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--accent);
            border-radius: 50%;
            animation: blink 1s infinite;
        }

        .tracking-content {
            flex: 1;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .current-order-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 16px;
            width: 300px;
            text-align: center;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .current-order-card.show {
            transform: translateY(0);
            opacity: 1;
        }

        .order-id-display {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .order-status-display {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .progress-bar-container {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--primary);
        }

        .tracking-footer {
            padding: 1.5rem 2rem;
            z-index: 10;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.2);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stats-counter {
            display: flex;
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            display: block;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Animations */
        @keyframes radarSpin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes gridRotate {
            from {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            to {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        @keyframes pointPop {
            0% {
                transform: scale(0);
                opacity: 0;
            }

            50% {
                transform: scale(1.2);
                opacity: 1;
            }

            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        @keyframes ripple {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.8;
            }

            100% {
                transform: translate(-50%, -50%) scale(3);
                opacity: 0;
            }
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.3;
            }
        }

        .scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            box-shadow: 0 0 10px var(--primary);
            opacity: 0.5;
            animation: scanDown 3s linear infinite;
            z-index: 5;
        }

        @keyframes scanDown {
            0% {
                top: 0%;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        /* Shopify Sync Modal & Animations */
        .shopify-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(3, 7, 18, 0.9);
            backdrop-filter: blur(15px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .shopify-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .shopify-container {
            width: 900px;
            height: 600px;
            background: radial-gradient(circle at center, #1a2e29 0%, #0f172a 70%);
            border: 1px solid rgba(150, 191, 72, 0.3);
            border-radius: 30px;
            box-shadow: 0 0 80px rgba(150, 191, 72, 0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: scale(0.9);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .shopify-modal-overlay.active .shopify-container {
            transform: scale(1);
        }

        /* Background Grid */
        .shopify-grid {
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(rgba(150, 191, 72, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(150, 191, 72, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0.5;
            mask-image: radial-gradient(circle at center, black 40%, transparent 80%);
        }

        /* Sync Visuals */
        .sync-stage {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 100px;
            z-index: 10;
        }

        .platform-node {
            width: 120px;
            height: 120px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .platform-node.shopify {
            border-color: rgba(150, 191, 72, 0.5);
            background: radial-gradient(circle at top left, rgba(150, 191, 72, 0.2), transparent);
        }

        .platform-node.nexus {
            border-color: rgba(6, 182, 212, 0.5);
            background: radial-gradient(circle at top right, rgba(6, 182, 212, 0.2), transparent);
        }

        .platform-icon {
            width: 60px;
            height: 60px;
            color: #fff;
        }

        .platform-node.shopify .platform-icon {
            color: #96bf48;
        }

        .platform-node.nexus .platform-icon {
            color: var(--primary);
        }

        .platform-label {
            position: absolute;
            bottom: -40px;
            font-size: 1rem;
            font-weight: 600;
            color: #fff;
            opacity: 0.8;
        }

        /* Data Stream */
        .data-stream {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 4px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 2px;
            overflow: hidden;
        }

        .stream-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .particle {
            position: absolute;
            top: 50%;
            width: 4px;
            height: 4px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 0 10px #fff;
            transform: translateY(-50%);
            opacity: 0;
        }

        .particle.active {
            animation: flowRight 1.5s linear forwards;
        }

        /* Product Cards Flying */
        .flying-card {
            position: absolute;
            width: 60px;
            height: 80px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 0.5rem;
            z-index: 5;
            opacity: 0;
            transform: scale(0.5);
        }

        .flying-card.active {
            animation: flyArc 1.5s cubic-bezier(0.45, 0, 0.55, 1) forwards;
        }

        /* Sync Status */
        .sync-status-container {
            position: absolute;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
        }

        .sync-status-text {
            font-size: 1.25rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }

        .sync-progress-bar {
            width: 300px;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 0 auto;
            overflow: hidden;
        }

        .sync-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #96bf48, var(--primary));
            width: 0%;
            transition: width 0.1s linear;
            box-shadow: 0 0 15px rgba(150, 191, 72, 0.5);
        }

        /* Footer */
        .shopify-footer {
            padding: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            z-index: 20;
        }

        .sync-stats {
            display: flex;
            gap: 3rem;
        }

        .sync-stat-item {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .sync-stat-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: #fff;
            line-height: 1;
            margin-bottom: 0.25rem;
        }

        .sync-stat-label {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .shopify-btn {
            padding: 0.75rem 2rem;
            background: #96bf48;
            color: #fff;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(150, 191, 72, 0.3);
        }

        .shopify-btn:hover {
            background: #85aa40;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(150, 191, 72, 0.4);
        }

        .shopify-btn:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        /* Animations */
        @keyframes flowRight {
            0% {
                left: 0%;
                opacity: 0;
                transform: translateY(-50%) scale(0.5);
            }

            20% {
                opacity: 1;
                transform: translateY(-50%) scale(1);
            }

            80% {
                opacity: 1;
                transform: translateY(-50%) scale(1);
            }

            100% {
                left: 100%;
                opacity: 0;
                transform: translateY(-50%) scale(0.5);
            }
        }

        @keyframes flyArc {
            0% {
                left: 20%;
                top: 50%;
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.2) rotate(0deg);
            }

            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(10deg);
            }

            80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1) rotate(-10deg);
            }

            100% {
                left: 80%;
                top: 50%;
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.2) rotate(0deg);
            }
        }

        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            border-radius: 24px;
            border: 2px solid #96bf48;
            opacity: 0;
            z-index: -1;
        }

        .pulse-ring.active {
            animation: ringPulse 2s infinite;
        }

        @keyframes ringPulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.5;
            }

            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <!-- Sidebar -->
    <aside class="sidebar glass" id="sidebar">
        <div class="sidebar-toggle" id="sidebarToggle">
            <i data-feather="chevron-left" style="width: 14px; height: 14px;"></i>
        </div>

        <div class="logo-container">
            <div class="app-brand">
                <div class="logo-icon">
                    <i data-feather="box" style="width: 18px; height: 18px;"></i>
                </div>
                <span class="logo-text">NEXUS</span>
            </div>

            <div class="workspace-selector" id="workspaceSelector">
                <div class="workspace-icon">N</div>
                <div class="workspace-info">
                    <div class="workspace-name">NEXUS Store</div>
                    <div class="workspace-role">
                        <span>Admin</span>
                        <div style="width: 4px; height: 4px; border-radius: 50%; background: var(--text-muted);"></div>
                        <span style="color: var(--primary);">Pro</span>
                    </div>
                </div>
                <i data-feather="chevron-down" class="selector-chevron"
                    style="width: 16px; height: 16px; color: var(--text-muted);"></i>
            </div>

            <div class="workspace-dropdown" id="workspaceDropdown">
                <div class="workspace-search">
                    <i data-feather="search"></i>
                    <input type="text" id="workspaceSearch" placeholder="Find workspace...">
                </div>
                <div class="workspace-list" id="workspaceList">
                    <!-- Populated by JS -->
                </div>
                <div class="workspace-actions">
                    <button class="create-workspace-btn">
                        <i data-feather="plus" style="width: 14px; height: 14px;"></i>
                        <span>Create New Workspace</span>
                    </button>
                </div>
            </div>
        </div>

        <nav class="nav-menu">
            <a href="index.html" class="nav-item">
                <i data-feather="grid"></i>
                <span>Dashboard</span>
            </a>
            <a href="orders.html" class="nav-item active">
                <i data-feather="shopping-cart"></i>
                <span>Orders</span>
            </a>
            <a href="#" class="nav-item">
                <i data-feather="users"></i>
                <span>Customers</span>
            </a>
            <a href="#" class="nav-item">
                <i data-feather="package"></i>
                <span>Inventory</span>
            </a>
            <a href="#" class="nav-item">
                <i data-feather="bar-chart-2"></i>
                <span>Analytics</span>
            </a>
            <a href="#" class="nav-item">
                <i data-feather="settings"></i>
                <span>Settings</span>
            </a>
        </nav>

        <!-- Delivery Status Widget -->
        <div class="delivery-widget glass-card">
            <div class="widget-header">
                <span class="widget-title">Delivery Status</span>
                <div class="time-selector">
                    <div class="time-trigger" id="timeTrigger">
                        <span id="currentTime">7d</span>
                        <i data-feather="chevron-down" style="width: 12px; height: 12px;"></i>
                    </div>
                    <div class="time-dropdown" id="timeDropdown">
                        <div class="time-option" data-period="24h">Last 24 Hours</div>
                        <div class="time-option active" data-period="7d">Last 7 Days</div>
                        <div class="time-option" data-period="30d">Last 30 Days</div>
                    </div>
                </div>
            </div>
            <div class="widget-content">
                <div class="stat-row">
                    <div class="stat-label">
                        <div class="stat-dot dot-delivery"></div>
                        <span>In Delivery</span>
                    </div>
                    <span class="stat-value-sm" data-stat="in-delivery">67</span>
                </div>
                <div class="stat-row">
                    <div class="stat-label">
                        <div class="stat-dot dot-delivered"></div>
                        <span>Delivered</span>
                    </div>
                    <span class="stat-value-sm" data-stat="delivered">30</span>
                </div>
                <div class="stat-row">
                    <div class="stat-label">
                        <div class="stat-dot dot-returned"></div>
                        <span>Returned</span>
                    </div>
                    <span class="stat-value-sm" data-stat="returned">0</span>
                </div>
            </div>
        </div>

        <div class="user-profile">
            <div class="avatar"></div>
            <div class="user-info">
                <h4>Alex Morgan</h4>
                <p>Admin</p>
            </div>
            <i data-feather="chevron-right" style="margin-left: auto; color: var(--text-muted); width: 16px;"></i>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header glass">
            <div class="search-bar">
                <i data-feather="search" class="search-icon"></i>
                <input type="text" placeholder="Search orders, products, or customers...">
            </div>

            <div class="header-actions">
                <div class="icon-btn">
                    <i data-feather="bell"></i>
                    <span class="notification-dot"></span>
                </div>
                <div class="icon-btn">
                    <i data-feather="mail"></i>
                </div>
                <div class="icon-btn" id="themeToggle">
                    <i data-feather="sun"></i>
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-container">

            <div class="page-header">
                <div class="page-title">
                    <h1>Orders Management</h1>
                    <p>Manage and track all customer orders.</p>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button class="icon-btn" style="width: 40px; height: 40px;" title="Refresh">
                        <i data-feather="refresh-cw" style="width: 16px;"></i>
                    </button>
                    <button class="icon-btn" style="width: auto; padding: 0 1rem; gap: 0.5rem; margin-right: 0.5rem;"
                        onclick="openShopifyModal()">
                        <i data-feather="shopping-bag" style="width: 16px;"></i>
                        Sync Shopify
                    </button>
                    <button class="icon-btn" style="width: auto; padding: 0 1rem; gap: 0.5rem; margin-right: 0.5rem;"
                        onclick="openTrackingModal()">
                        <i data-feather="refresh-cw" style="width: 16px;"></i>
                        Update Tracking
                    </button>
                    <button class="icon-btn" style="width: auto; padding: 0 1rem; gap: 0.5rem;">
                        <i data-feather="download" style="width: 16px;"></i>
                        Export
                    </button>
                    <div class="bulk-actions-container" style="position: relative;">
                        <button class="action-btn" id="bulkActionsBtn" style="padding-right: 1rem;">
                            <i data-feather="layers"></i>
                            Bulk Actions
                            <i data-feather="chevron-down" class="bulk-chevron"
                                style="width: 14px; margin-left: 0.25rem; transition: transform 0.3s ease;"></i>
                        </button>
                        <div class="bulk-dropdown" id="bulkDropdown">
                            <div class="bulk-item"><i data-feather="download-cloud"></i> Import New Orders</div>
                            <div class="bulk-item"><i data-feather="upload"></i> Export Selected</div>
                            <div class="bulk-item"><i data-feather="package"></i> Packing List</div>
                            <div class="bulk-item" style="color: var(--accent);"><i data-feather="trash-2"></i> Delete
                                Selected</div>
                            <div class="bulk-item"><i data-feather="tag"></i> Create Labels</div>
                            <div class="bulk-item"><i data-feather="share"></i> Export Labels</div>
                            <div class="bulk-item"><i data-feather="send"></i> Send Labels</div>
                            <div class="bulk-item"><i data-feather="map-pin"></i> Update Tracking</div>
                            <div class="bulk-item"><i data-feather="check-circle"></i> Fulfill Orders</div>
                            <div class="bulk-item"><i data-feather="shopping-bag"></i> Sync Shopify</div>
                            <div class="bulk-item"><i data-feather="file-text"></i> Create Invoices</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Orders Table -->
            <div class="glass-card table-container">
                <div class="table-header">
                    <div style="display: flex; gap: 1rem; align-items: center;">
                        <h3 class="chart-title">All Orders</h3>
                        <span
                            style="background: rgba(6, 182, 212, 0.1); color: var(--primary); padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600;">1,240
                            Total</span>
                    </div>
                    <div class="header-actions">
                        <div class="filter-dropdown-container" style="position: relative;">
                            <button class="action-btn" id="filterBtn"
                                style="background: var(--bg-card); border: 1px solid var(--border-light); color: var(--text-muted); padding: 0.5rem 1rem; min-width: 160px; justify-content: space-between;">
                                <span style="display: flex; align-items: center; gap: 0.5rem;">
                                    <i data-feather="filter" style="width: 14px;"></i>
                                    <span id="currentFilterLabel">Status: All</span>
                                </span>
                                <i data-feather="chevron-down" class="filter-chevron"
                                    style="width: 14px; transition: transform 0.3s ease;"></i>
                            </button>
                            <div class="bulk-dropdown" id="filterDropdown" style="width: 100%; min-width: 160px;">
                                <div class="bulk-item" onclick="filterOrders('All')">All Statuses</div>
                                <div class="bulk-item" onclick="filterOrders('Completed')"><span
                                        class="status-badge status-completed"
                                        style="padding: 2px 6px; font-size: 0.65rem;">Completed</span></div>
                                <div class="bulk-item" onclick="filterOrders('Processing')"><span
                                        class="status-badge status-processing"
                                        style="padding: 2px 6px; font-size: 0.65rem;">Processing</span></div>
                                <div class="bulk-item" onclick="filterOrders('Pending')"><span
                                        class="status-badge status-pending"
                                        style="padding: 2px 6px; font-size: 0.65rem;">Pending</span></div>
                                <div class="bulk-item" onclick="filterOrders('Cancelled')"><span
                                        class="status-badge status-cancelled"
                                        style="padding: 2px 6px; font-size: 0.65rem;">Cancelled</span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th style="width: 40px;"><input type="checkbox" style="cursor: pointer;"></th>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Address</th>
                                <th>Products</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Documents</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Rows will be generated by JS -->
                        </tbody>
                    </table>
                </div>
                <!-- Pagination -->
                <div
                    style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-top: 1px solid var(--border-light);">
                    <div style="font-size: 0.875rem; color: var(--text-muted);">
                        Showing <span style="font-weight: 600; color: var(--text-main);">1-50</span> of <span
                            style="font-weight: 600; color: var(--text-main);">1,234</span> orders
                    </div>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="page-btn disabled"><i data-feather="chevron-left"
                                style="width: 16px;"></i></button>
                        <button class="page-btn active">1</button>
                        <button class="page-btn">2</button>
                        <button class="page-btn">3</button>
                        <span style="display: flex; align-items: center; color: var(--text-muted);">...</span>
                        <button class="page-btn">24</button>
                        <button class="page-btn"><i data-feather="chevron-right" style="width: 16px;"></i></button>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Custom Tooltip Container -->
    <div id="customTooltip" class="custom-tooltip"></div>

    <!-- Order Details Modal -->
    <div class="modal-overlay" id="orderModal">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title">
                    <h2 id="modalOrderId">Order #ORD-7235</h2>
                    <div id="modalOrderDate" style="font-size: 0.85rem; color: var(--text-muted);">Placed on Oct 24,
                        2024 at 10:30 AM</div>
                </div>
                <div class="modal-close" id="closeModalBtn">
                    <i data-feather="x"></i>
                </div>
            </div>
            <div class="modal-body">
                <!-- Left Column: Details -->
                <div class="modal-left">
                    <div class="modal-section-title">
                        <i data-feather="user" style="width: 14px;"></i>
                        Customer Details
                    </div>
                    <div class="info-card" style="margin-bottom: 2rem;">
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                            <div id="modalCustomerAvatar"
                                style="width: 48px; height: 48px; border-radius: 50%; background: #cbd5e1; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; font-weight: 600; color: #fff;">
                                S
                            </div>
                            <div>
                                <div id="modalCustomerName" style="font-weight: 600; font-size: 1.1rem;">Sarah Connor
                                </div>
                                <div id="modalCustomerEmail" style="font-size: 0.85rem; color: var(--text-muted);">
                                    sarah@skynet.com</div>
                            </div>
                        </div>
                        <div class="info-label">Shipping Address</div>
                        <div id="modalCustomerAddress"
                            style="font-size: 0.9rem; color: var(--text-main); line-height: 1.5;">
                            123 Tech Blvd, Silicon Valley, CA 94025
                        </div>
                    </div>

                    <div class="modal-section-title">
                        <i data-feather="shopping-bag" style="width: 14px;"></i>
                        Order Contents
                    </div>
                    <div class="product-list" id="modalProductList">
                        <!-- Populated by JS -->
                    </div>

                    <div class="info-card"
                        style="margin-top: 1.5rem; display: flex; justify-content: space-between; align-items: center;">
                        <span style="color: var(--text-muted); font-weight: 500;">Total Amount</span>
                        <span id="modalTotalAmount"
                            style="font-size: 1.25rem; font-weight: 700; color: var(--primary);">$1,299.00</span>
                    </div>
                </div>

                <!-- Right Column: Timeline -->
                <div class="modal-right">
                    <div class="modal-section-title">
                        <i data-feather="activity" style="width: 14px;"></i>
                        Order History
                    </div>
                    <div class="timeline-vertical" id="modalTimeline">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="action-btn"
                    style="background: transparent; border: 1px solid var(--border-light); color: var(--text-muted); box-shadow: none;">
                    Download Invoice
                </button>
                <button class="action-btn">
                    Track Order
                </button>
            </div>
        </div>
    </div>

    <!-- Tracking Simulation Modal -->
    <div class="tracking-modal-overlay" id="trackingModal">
        <div class="tracking-container">
            <div class="radar-grid"></div>
            <div class="radar-scan"></div>
            <div class="scan-line"></div>

            <div class="tracking-header">
                <div class="tracking-title">
                    <h2>Global Logistics Sync</h2>
                    <div class="tracking-status">
                        <div class="status-dot"></div>
                        LIVE TRACKING UPDATE
                    </div>
                </div>
                <button class="modal-close" onclick="closeTrackingModal()">
                    <i data-feather="x"></i>
                </button>
            </div>

            <div class="tracking-content">
                <div class="current-order-card" id="trackingCard">
                    <div class="order-id-display" id="trackingOrderId">ORD-7235</div>
                    <div class="order-status-display" id="trackingStatus">Updating Location...</div>
                    <div class="progress-bar-container">
                        <div class="progress-bar-fill" id="trackingProgress"></div>
                    </div>
                </div>
            </div>

            <div class="tracking-footer">
                <div class="stats-counter">
                    <div class="stat-item">
                        <span class="stat-number" id="scannedCount">0</span>
                        <span class="stat-label">Orders Scanned</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="updatedCount">0</span>
                        <span class="stat-label">Updated</span>
                    </div>
                </div>
                <button class="action-btn" id="startTrackingBtn" onclick="startTrackingSimulation()">
                    <i data-feather="play"></i>
                    Start Sync
                </button>
            </div>
        </div>
    </div>

    <!-- Shopify Sync Modal -->
    <div class="shopify-modal-overlay" id="shopifyModal">
        <div class="shopify-container">
            <div class="shopify-grid"></div>

            <div class="tracking-header">
                <div class="tracking-title">
                    <h2>Shopify Data Bridge</h2>
                    <div class="tracking-status" style="color: #96bf48;">
                        <div class="status-dot" style="background: #96bf48;"></div>
                        SECURE CONNECTION
                    </div>
                </div>
                <button class="modal-close" onclick="closeShopifyModal()">
                    <i data-feather="x"></i>
                </button>
            </div>

            <div class="sync-stage">
                <!-- Shopify Node -->
                <div class="platform-node shopify">
                    <div class="pulse-ring" id="shopifyPulse"></div>
                    <i data-feather="shopping-bag" class="platform-icon"></i>
                    <div class="platform-label">Shopify Store</div>
                </div>

                <!-- Data Stream -->
                <div class="data-stream">
                    <div class="stream-particles" id="streamParticles"></div>
                </div>

                <!-- Nexus Node -->
                <div class="platform-node nexus">
                    <div class="pulse-ring" id="nexusPulse" style="border-color: var(--primary);"></div>
                    <i data-feather="box" class="platform-icon"></i>
                    <div class="platform-label">NEXUS System</div>
                </div>
            </div>

            <div class="sync-status-container">
                <div class="sync-status-text" id="syncStatusText">Ready to Sync</div>
                <div class="sync-progress-bar">
                    <div class="sync-progress-fill" id="syncProgress"></div>
                </div>
            </div>

            <div class="shopify-footer">
                <div class="sync-stats">
                    <div class="sync-stat-item">
                        <span class="sync-stat-value" id="ordersSynced">0</span>
                        <span class="sync-stat-label">Orders Imported</span>
                    </div>
                    <div class="sync-stat-item">
                        <span class="sync-stat-value" id="productsSynced">0</span>
                        <span class="sync-stat-label">Products Updated</span>
                    </div>
                </div>
                <button class="shopify-btn" id="startSyncBtn" onclick="startShopifySync()">
                    <i data-feather="refresh-cw"></i>
                    Start Import
                </button>
            </div>
        </div>
    </div>

    <script>
        // Generate 50 Mock Orders
        const ordersTableBody = document.getElementById('ordersTableBody');

        const customers = [
            { name: "Sarah Connor", email: "sarah@skynet.com", avatar: "#cbd5e1", address: "123 Tech Blvd, Silicon Valley, CA 94025" },
            { name: "John Wick", email: "john@continental.com", avatar: "#94a3b8", address: "1 Continental Way, New York, NY 10001" },
            { name: "Bruce Wayne", email: "bruce@wayne.com", avatar: "#cbd5e1", address: "1007 Mountain Drive, Gotham City, NJ 07001" },
            { name: "Tony Stark", email: "tony@stark.com", avatar: "#94a3b8", address: "10880 Malibu Point, Malibu, CA 90265" },
            { name: "Ellen Ripley", email: "ripley@nostromo.com", avatar: "#cbd5e1", address: "Gateway Station, Sector 8, LV-426" },
            { name: "Marty McFly", email: "marty@delorean.com", avatar: "#94a3b8", address: "9303 Lyon Estates, Hill Valley, CA 95420" },
            { name: "Luke Skywalker", email: "luke@jedi.org", avatar: "#cbd5e1", address: "Lars Homestead, Great Chott Salt Flat, Tatooine" },
            { name: "Neo Anderson", email: "neo@matrix.net", avatar: "#94a3b8", address: "Room 101, 303 Wells St, Chicago, IL 60606" }
        ];

        const products = [
            { name: "Neural Net Processor", price: 1299.00, icon: "cpu" },
            { name: "Tactical Suit v2", price: 850.00, icon: "shield" },
            { name: "Grappling Hook", price: 450.00, icon: "anchor" },
            { name: "Arc Reactor Core", price: 5000.00, icon: "zap" },
            { name: "Flamethrower Unit", price: 1150.00, icon: "zap" },
            { name: "Flux Capacitor", price: 2500.00, icon: "clock" },
            { name: "Lightsaber (Green)", price: 1500.00, icon: "slash" },
            { name: "Red Pill", price: 50.00, icon: "circle" }
        ];

        const accessories = [
            "Extra Battery", "Carrying Case", "Warranty Extension", "User Manual", "Cleaning Kit", "Power Adapter"
        ];

        const statuses = ['Completed', 'Processing', 'Pending', 'Cancelled'];

        // Store generated orders to maintain consistency during filtering
        let allOrders = [];

        function generateOrders() {
            allOrders = [];
            for (let i = 1; i <= 50; i++) {
                const customer = customers[Math.floor(Math.random() * customers.length)];
                const mainProduct = products[Math.floor(Math.random() * products.length)];
                const status = statuses[Math.floor(Math.random() * statuses.length)];
                const orderId = 7235 - i;

                // Generate random accessories for this order
                const numAccessories = Math.floor(Math.random() * 3) + 1;
                const orderAccessories = [];
                for (let j = 0; j < numAccessories; j++) {
                    orderAccessories.push(accessories[Math.floor(Math.random() * accessories.length)]);
                }

                // Create full product list for tooltip
                const fullProductList = [
                    { name: mainProduct.name, price: mainProduct.price, icon: mainProduct.icon, type: 'Main Product' },
                    ...orderAccessories.map(acc => ({ name: acc, price: 25.00, icon: 'package', type: 'Accessory' }))
                ];

                const productsJson = JSON.stringify(fullProductList).replace(/"/g, '&quot;');

                // Generate Status History
                const today = new Date();
                const history = [];

                // Helper to format date
                const formatDate = (date) => {
                    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
                };

                const createdDate = new Date(today);
                createdDate.setDate(today.getDate() - Math.floor(Math.random() * 10) - 5);

                history.push({ title: "Order Placed", date: formatDate(createdDate), completed: true });

                if (status !== 'Cancelled') {
                    const processingDate = new Date(createdDate);
                    processingDate.setHours(createdDate.getHours() + 2);

                    if (status === 'Pending') {
                        history.push({ title: "Payment Confirmed", date: "Pending", completed: false, current: true });
                    } else {
                        history.push({ title: "Payment Confirmed", date: formatDate(processingDate), completed: true });

                        const shippedDate = new Date(processingDate);
                        shippedDate.setDate(processingDate.getDate() + 1);

                        if (status === 'Processing') {
                            history.push({ title: "Processing Order", date: "In Progress", completed: false, current: true });
                        } else {
                            history.push({ title: "Order Shipped", date: formatDate(shippedDate), completed: true });

                            const deliveredDate = new Date(shippedDate);
                            deliveredDate.setDate(shippedDate.getDate() + 2);

                            if (status === 'Completed') {
                                history.push({ title: "Out for Delivery", date: formatDate(deliveredDate), completed: true });
                                history.push({ title: "Delivered", date: formatDate(deliveredDate), completed: true, current: true });
                            }
                        }
                    }
                } else {
                    const cancelledDate = new Date(createdDate);
                    cancelledDate.setHours(createdDate.getHours() + 1);
                    history.push({ title: "Order Cancelled", date: formatDate(cancelledDate), completed: true, current: true, isError: true });
                }

                const historyJson = JSON.stringify(history).replace(/"/g, '&quot;');

                allOrders.push({
                    i,
                    orderId,
                    customer,
                    mainProduct,
                    numAccessories,
                    status,
                    productsJson,
                    historyJson
                });
            }
        }

        function renderOrders(filterStatus = 'All') {
            let html = '';
            const filteredOrders = filterStatus === 'All'
                ? allOrders
                : allOrders.filter(order => order.status === filterStatus);

            filteredOrders.forEach(order => {
                const { i, orderId, customer, mainProduct, numAccessories, status, productsJson, historyJson } = order;
                let statusClass = `status-${status.toLowerCase()}`;

                // Documents Logic
                let docsHtml = '';
                if (status === 'Completed') {
                    docsHtml = `
                        <div class="doc-badge doc-invoice" data-tooltip="Invoice #INV-2024-${i}">
                            <i data-feather="file-text" style="width: 14px; height: 14px;"></i>
                        </div>
                        <div class="doc-badge doc-shipping" data-tooltip="AWB: ${1234567890 + i}">
                            <i data-feather="truck" style="width: 14px; height: 14px;"></i>
                        </div>`;
                } else if (status === 'Processing') {
                    docsHtml = `
                        <div class="doc-badge doc-invoice" data-tooltip="Invoice #INV-2024-${i}">
                            <i data-feather="file-text" style="width: 14px; height: 14px;"></i>
                        </div>
                        <div class="doc-badge doc-shipping" data-tooltip="Generate AWB" style="opacity: 0.5; cursor: not-allowed;">
                            <i data-feather="truck" style="width: 14px; height: 14px;"></i>
                        </div>`;
                } else if (status === 'Pending') {
                    docsHtml = `
                        <div class="doc-badge doc-invoice" data-tooltip="Generate Invoice" style="opacity: 0.5; cursor: not-allowed;">
                            <i data-feather="file-text" style="width: 14px; height: 14px;"></i>
                        </div>
                        <div class="doc-badge doc-shipping" data-tooltip="Generate AWB" style="opacity: 0.5; cursor: not-allowed;">
                            <i data-feather="truck" style="width: 14px; height: 14px;"></i>
                        </div>`;
                } else { // Cancelled
                    docsHtml = `
                        <div class="doc-badge doc-invoice" data-tooltip="Invoice #INV-2024-${i}">
                            <i data-feather="file-text" style="width: 14px; height: 14px;"></i>
                        </div>
                        <div class="doc-badge doc-shipping" data-tooltip="Cancelled" style="opacity: 0.5; cursor: not-allowed; color: var(--accent); background: rgba(244, 63, 94, 0.1); border-color: rgba(244, 63, 94, 0.2);">
                            <i data-feather="x-circle" style="width: 14px; height: 14px;"></i>
                        </div>`;
                }

                html += `
                    <tr>
                        <td><input type="checkbox" style="cursor: pointer;"></td>
                        <td style="font-family: 'Outfit', sans-serif; font-weight: 600;">#ORD-${orderId}</td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 28px; height: 28px; border-radius: 50%; background: ${customer.avatar}; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; font-weight: 600; color: #fff;">
                                    ${customer.name.charAt(0)}
                                </div>
                                <div>
                                    <div style="font-weight: 500; font-size: 0.875rem;">${customer.name}</div>
                                    <div style="font-size: 0.7rem; color: var(--text-muted);">${customer.email}</div>
                                </div>
                            </div>
                        </td>
                        <td class="hover-trigger" data-tooltip-type="address" data-tooltip-content="${customer.address}" style="max-width: 180px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: var(--text-muted); font-size: 0.8rem; cursor: help;">
                            ${customer.address}
                        </td>
                        <td class="hover-trigger" data-tooltip-type="products" data-tooltip-content="${productsJson}" style="cursor: help;">
                            <div style="display: flex; flex-direction: column;">
                                <span style="font-size: 0.875rem;">${mainProduct.name}</span>
                                <span style="font-size: 0.7rem; color: var(--text-muted);">+ ${numAccessories} accessories</span>
                            </div>
                        </td>
                        <td style="font-weight: 600;">
                            <div class="amount-wrapper">
                                $${mainProduct.price.toFixed(2)}
                                <div class="payment-badge ${Math.random() > 0.5 ? 'card' : 'cod'}" title="${Math.random() > 0.5 ? 'Paid by Card' : 'Cash on Delivery'}">
                                    <i data-feather="${Math.random() > 0.5 ? 'credit-card' : 'dollar-sign'}"></i>
                                </div>
                            </div>
                        </td>
                        <td class="hover-trigger" data-tooltip-type="status" data-tooltip-content="${historyJson}" style="cursor: help;"><span class="status-badge ${statusClass}">${status}</span></td>
                        <td>
                            <div class="doc-group">
                                ${docsHtml}
                            </div>
                        </td>
                        <td>
                            <div style="display: flex; gap: 0.5rem;">
                                <div class="icon-btn" onclick="openOrderModal(${orderId})" style="width: 28px; height: 28px;"><i data-feather="eye" style="width: 14px;"></i></div>
                                <div class="icon-btn" style="width: 28px; height: 28px;"><i data-feather="edit-2" style="width: 14px;"></i></div>
                                <div class="icon-btn" style="width: 28px; height: 28px; color: var(--accent);"><i data-feather="trash-2" style="width: 14px;"></i></div>
                            </div>
                        </td>
                    </tr>
                `;
            });

            ordersTableBody.innerHTML = html;
            feather.replace();
            attachTooltipListeners();
        }

        // Filter Logic
        const filterBtn = document.getElementById('filterBtn');
        const filterDropdown = document.getElementById('filterDropdown');
        const filterChevron = filterBtn.querySelector('.filter-chevron');
        const currentFilterLabel = document.getElementById('currentFilterLabel');

        filterBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            filterDropdown.classList.toggle('show');
            filterChevron.style.transform = filterDropdown.classList.contains('show') ? 'rotate(180deg)' : 'rotate(0deg)';
        });

        function filterOrders(status) {
            renderOrders(status);
            currentFilterLabel.textContent = status === 'All' ? 'Status: All' : `Status: ${status}`;
            filterDropdown.classList.remove('show');
            filterChevron.style.transform = 'rotate(0deg)';
        }

        // Close dropdowns on outside click
        document.addEventListener('click', (e) => {
            if (!filterBtn.contains(e.target) && !filterDropdown.contains(e.target)) {
                filterDropdown.classList.remove('show');
                if (filterChevron) filterChevron.style.transform = 'rotate(0deg)';
            }
        });

        generateOrders();
        renderOrders();

        // Custom Tooltip Logic
        const tooltip = document.getElementById('customTooltip');

        function attachTooltipListeners() {
            document.querySelectorAll('.hover-trigger').forEach(el => {
                el.addEventListener('mouseenter', (e) => {
                    const type = el.getAttribute('data-tooltip-type');
                    const content = el.getAttribute('data-tooltip-content');

                    if (type === 'address') {
                        tooltip.innerHTML = `
                            <div class="tooltip-header">
                                <i data-feather="map-pin" style="width: 14px;"></i>
                                Shipping Address
                            </div>
                            <div class="tooltip-content" style="font-size: 0.95rem; color: var(--text-main);">
                                ${content}
                            </div>
                        `;
                    } else if (type === 'products') {
                        const products = JSON.parse(content.replace(/&quot;/g, '"'));
                        let itemsHtml = '';

                        products.forEach(prod => {
                            itemsHtml += `
                                <div class="tooltip-item">
                                    <div class="tooltip-item-icon">
                                        <i data-feather="${prod.icon}" style="width: 16px;"></i>
                                    </div>
                                    <div class="tooltip-item-details">
                                        <div class="tooltip-item-name">${prod.name}</div>
                                        <div class="tooltip-item-meta">${prod.type}  $${prod.price.toFixed(2)}</div>
                                    </div>
                                </div>
                            `;
                        });

                        tooltip.innerHTML = `
                            <div class="tooltip-header">
                                <i data-feather="package" style="width: 14px;"></i>
                                Order Contents
                            </div>
                            <div class="tooltip-content">
                                ${itemsHtml}
                            </div>
                        `;
                    } else if (type === 'status') {
                        const history = JSON.parse(content.replace(/&quot;/g, '"'));
                        let timelineHtml = '<div class="timeline">';

                        history.forEach((event, index) => {
                            const completedClass = event.completed ? 'completed' : '';
                            const currentClass = event.current ? 'current' : '';
                            const delay = index * 0.1;

                            timelineHtml += `
                                <div class="timeline-item ${completedClass} ${currentClass}" style="animation-delay: ${delay}s">
                                    <div class="timeline-dot"></div>
                                    <div class="timeline-content">
                                        <div class="timeline-title">${event.title}</div>
                                        <div class="timeline-date">${event.date}</div>
                                    </div>
                                </div>
                            `;
                        });

                        timelineHtml += '</div>';

                        tooltip.innerHTML = `
                            <div class="tooltip-header">
                                <i data-feather="activity" style="width: 14px;"></i>
                                Order History
                            </div>
                            <div class="tooltip-content">
                                ${timelineHtml}
                            </div>
                        `;
                    }

                    feather.replace();
                    tooltip.classList.add('show');
                    updateTooltipPosition(e);
                });

                el.addEventListener('mousemove', updateTooltipPosition);

                el.addEventListener('mouseleave', () => {
                    tooltip.classList.remove('show');
                });
            });
        }

        function updateTooltipPosition(e) {
            const x = e.clientX;
            const y = e.clientY;

            // Check bounds to prevent overflow
            const tooltipRect = tooltip.getBoundingClientRect();
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;

            let left = x + 15;
            let top = y + 15;

            if (left + tooltipRect.width > winWidth) {
                left = x - tooltipRect.width - 15;
            }

            if (top + tooltipRect.height > winHeight) {
                top = y - tooltipRect.height - 15;
            }

            tooltip.style.left = `${left}px`;
            tooltip.style.top = `${top}px`;
        }

        generateOrders();

        // Initialize Feather Icons
        feather.replace();

        // Sidebar Toggle Logic
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');

        // Check local storage
        const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
        if (isCollapsed) {
            sidebar.classList.add('collapsed');
            sidebarToggle.innerHTML = '<i data-feather="chevron-right" style="width: 14px; height: 14px;"></i>';
            feather.replace();
        }

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
            const collapsed = sidebar.classList.contains('collapsed');

            localStorage.setItem('sidebarCollapsed', collapsed);

            if (collapsed) {
                sidebarToggle.innerHTML = '<i data-feather="chevron-right" style="width: 14px; height: 14px;"></i>';
            } else {
                sidebarToggle.innerHTML = '<i data-feather="chevron-left" style="width: 14px; height: 14px;"></i>';
            }
            feather.replace();
        });

        // Workspace Switcher Logic
        const workspaceSelector = document.getElementById('workspaceSelector');
        const workspaceDropdown = document.getElementById('workspaceDropdown');
        const selectorChevron = workspaceSelector.querySelector('.selector-chevron');
        const workspaceSearch = document.getElementById('workspaceSearch');
        const workspaceList = document.getElementById('workspaceList');

        // Mock Data
        const workspaces = [
            { id: 1, name: 'NEXUS Store', url: 'nexus.etrack.com', icon: 'N', active: true },
            { id: 2, name: 'Alpha Logistics', url: 'alpha.etrack.com', icon: 'A', active: false },
            { id: 3, name: 'Beta Warehouse', url: 'beta.etrack.com', icon: 'B', active: false },
            { id: 4, name: 'Gamma Distribution', url: 'gamma.etrack.com', icon: 'G', active: false },
            { id: 5, name: 'Delta Shipping', url: 'delta.etrack.com', icon: 'D', active: false }
        ];

        function renderWorkspaces(filter = '') {
            workspaceList.innerHTML = '';
            const filtered = workspaces.filter(w => w.name.toLowerCase().includes(filter.toLowerCase()));

            filtered.forEach(w => {
                const item = document.createElement('div');
                item.className = `workspace-item ${w.active ? 'active' : ''}`;
                item.innerHTML = `
                    <div class="item-icon">${w.icon}</div>
                    <div style="flex: 1;">
                        <div style="font-size: 0.875rem; font-weight: 600; color: var(--text-main);">${w.name}</div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">${w.url}</div>
                    </div>
                    ${w.active ? '<i data-feather="check" style="width: 16px; color: var(--primary);"></i>' : ''}
                `;
                item.addEventListener('click', () => selectWorkspace(w));
                workspaceList.appendChild(item);
            });
            feather.replace();
        }

        function selectWorkspace(workspace) {
            workspaces.forEach(w => w.active = (w.id === workspace.id));

            // Update UI
            workspaceSelector.querySelector('.workspace-name').textContent = workspace.name;
            workspaceSelector.querySelector('.workspace-icon').textContent = workspace.icon;

            renderWorkspaces(workspaceSearch.value);
            workspaceDropdown.classList.remove('show');
            selectorChevron.style.transform = 'rotate(0deg)';
        }

        workspaceSelector.addEventListener('click', (e) => {
            e.stopPropagation();
            workspaceDropdown.classList.toggle('show');
            selectorChevron.style.transform = workspaceDropdown.classList.contains('show') ? 'rotate(180deg)' : 'rotate(0deg)';
            if (workspaceDropdown.classList.contains('show')) {
                workspaceSearch.focus();
            }
        });

        workspaceSearch.addEventListener('input', (e) => {
            renderWorkspaces(e.target.value);
        });

        workspaceSearch.addEventListener('click', (e) => e.stopPropagation());

        document.addEventListener('click', (e) => {
            if (!workspaceSelector.contains(e.target) && !workspaceDropdown.contains(e.target)) {
                workspaceDropdown.classList.remove('show');
                selectorChevron.style.transform = 'rotate(0deg)';
            }
        });

        // Initial Render
        renderWorkspaces();

        // Theme Switcher Logic
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const icon = themeToggle.querySelector('i');

        // Check for saved theme preference (optional, but good for UX)
        // For now, we'll just default to light mode as per request

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');

            if (body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i data-feather="moon" style="width: 20px; height: 20px;"></i>';
            } else {
                themeToggle.innerHTML = '<i data-feather="sun" style="width: 20px; height: 20px;"></i>';
            }

            feather.replace();
        });

        // Simple interactivity for nav items
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function (e) {
                // Only prevent default if it's a dummy link
                if (this.getAttribute('href') === '#') {
                    e.preventDefault();
                }
                // Don't remove active class from other items here, let the page load handle it
                // or only do it for visual feedback if staying on same page
            });
        });

        // Bulk Actions Logic
        const bulkActionsBtn = document.getElementById('bulkActionsBtn');
        const bulkDropdown = document.getElementById('bulkDropdown');
        const bulkChevron = bulkActionsBtn.querySelector('.bulk-chevron');

        bulkActionsBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            bulkDropdown.classList.toggle('show');
            bulkChevron.style.transform = bulkDropdown.classList.contains('show') ? 'rotate(180deg)' : 'rotate(0deg)';
        });

        document.addEventListener('click', (e) => {
            if (!bulkActionsBtn.contains(e.target) && !bulkDropdown.contains(e.target)) {
                bulkDropdown.classList.remove('show');
                if (bulkChevron) bulkChevron.style.transform = 'rotate(0deg)';
            }
        });

        // Delivery Widget Logic
        const deliveryStats = {
            '24h': { 'in-delivery': 12, 'delivered': 8, 'returned': 0 },
            '7d': { 'in-delivery': 67, 'delivered': 30, 'returned': 2 },
            '30d': { 'in-delivery': 245, 'delivered': 180, 'returned': 15 }
        };

        const timeTrigger = document.getElementById('timeTrigger');
        const timeDropdown = document.getElementById('timeDropdown');
        const currentTime = document.getElementById('currentTime');
        const timeOptions = document.querySelectorAll('.time-option');
        const statValues = document.querySelectorAll('.stat-value-sm');
        const triggerIcon = timeTrigger.querySelector('i');

        // Toggle Dropdown
        timeTrigger.addEventListener('click', (e) => {
            e.stopPropagation();
            timeDropdown.classList.toggle('show');
            triggerIcon.style.transform = timeDropdown.classList.contains('show') ? 'rotate(180deg)' : 'rotate(0deg)';
        });

        // Handle Option Click
        timeOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();

                // Update active state
                timeOptions.forEach(opt => opt.classList.remove('active'));
                option.classList.add('active');

                // Update Trigger Text (short version)
                const period = option.dataset.period;
                currentTime.textContent = period;

                // Update stats with animation
                const data = deliveryStats[period];
                statValues.forEach(stat => {
                    const key = stat.dataset.stat;
                    const target = data[key];
                    animateValue(stat, parseInt(stat.textContent), target, 500);
                });

                // Close Dropdown
                timeDropdown.classList.remove('show');
                triggerIcon.style.transform = 'rotate(0deg)';
            });
        });

        // Close on Outside Click
        document.addEventListener('click', (e) => {
            if (!timeTrigger.contains(e.target) && !timeDropdown.contains(e.target)) {
                timeDropdown.classList.remove('show');
                if (triggerIcon) triggerIcon.style.transform = 'rotate(0deg)';
            }
        });

        function animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start);
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        // Order Details Modal Logic
        const orderModal = document.getElementById('orderModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const modalOrderId = document.getElementById('modalOrderId');
        const modalOrderDate = document.getElementById('modalOrderDate');
        const modalCustomerAvatar = document.getElementById('modalCustomerAvatar');
        const modalCustomerName = document.getElementById('modalCustomerName');
        const modalCustomerEmail = document.getElementById('modalCustomerEmail');
        const modalCustomerAddress = document.getElementById('modalCustomerAddress');
        const modalProductList = document.getElementById('modalProductList');
        const modalTotalAmount = document.getElementById('modalTotalAmount');
        const modalTimeline = document.getElementById('modalTimeline');

        function openOrderModal(id) {
            const order = allOrders.find(o => o.orderId === id);
            if (!order) return;

            // Populate Header
            modalOrderId.textContent = `Order #ORD-${order.orderId}`;
            const history = JSON.parse(order.historyJson.replace(/&quot;/g, '"'));
            const placedDate = history[0].date;
            modalOrderDate.textContent = `Placed on ${placedDate}`;

            // Populate Customer Details
            modalCustomerAvatar.style.background = order.customer.avatar;
            modalCustomerAvatar.textContent = order.customer.name.charAt(0);
            modalCustomerName.textContent = order.customer.name;
            modalCustomerEmail.textContent = order.customer.email;
            modalCustomerAddress.textContent = order.customer.address;

            // Populate Products
            const products = JSON.parse(order.productsJson.replace(/&quot;/g, '"'));
            let productsHtml = '';
            let total = 0;

            products.forEach(prod => {
                total += prod.price;
                productsHtml += `
                    <div class="product-item">
                        <div class="product-icon">
                            <i data-feather="${prod.icon}"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 500; font-size: 0.9rem;">${prod.name}</div>
                            <div style="font-size: 0.75rem; color: var(--text-muted);">${prod.type}</div>
                        </div>
                        <div style="font-weight: 600;">$${prod.price.toFixed(2)}</div>
                    </div>
                `;
            });
            modalProductList.innerHTML = productsHtml;
            modalTotalAmount.textContent = `$${total.toFixed(2)}`;

            // Populate Timeline
            let timelineHtml = '';
            history.forEach((event, index) => {
                const completedClass = event.completed ? 'completed' : '';
                const currentClass = event.current ? 'current' : '';
                const delay = index * 0.1;

                timelineHtml += `
                    <div class="timeline-step ${completedClass} ${currentClass}" style="animation-delay: ${delay}s">
                        <div class="step-dot"></div>
                        <div class="step-content">
                            <div class="step-title">${event.title}</div>
                            <div class="step-date">${event.date}</div>
                        </div>
                    </div>
                `;
            });
            modalTimeline.innerHTML = timelineHtml;

            // Show Modal
            orderModal.classList.add('active');
            feather.replace();
        }

        function closeOrderModal() {
            orderModal.classList.remove('active');
        }

        closeModalBtn.addEventListener('click', closeOrderModal);

        orderModal.addEventListener('click', (e) => {
            if (e.target === orderModal) {
                closeOrderModal();
            }
        });

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && orderModal.classList.contains('active')) {
                closeOrderModal();
            }
        });
        // Tracking Simulation Logic
        const trackingModal = document.getElementById('trackingModal');
        const trackingCard = document.getElementById('trackingCard');
        const trackingOrderId = document.getElementById('trackingOrderId');
        const trackingStatus = document.getElementById('trackingStatus');
        const trackingProgress = document.getElementById('trackingProgress');
        const scannedCount = document.getElementById('scannedCount');
        const updatedCount = document.getElementById('updatedCount');
        const startTrackingBtn = document.getElementById('startTrackingBtn');
        const trackingContainer = document.querySelector('.tracking-container');

        function openTrackingModal() {
            trackingModal.classList.add('active');
            scannedCount.textContent = '0';
            updatedCount.textContent = '0';
            trackingCard.classList.remove('show');
            startTrackingBtn.disabled = false;
            startTrackingBtn.innerHTML = '<i data-feather="play"></i> Start Sync';
            feather.replace();
        }

        function closeTrackingModal() {
            trackingModal.classList.remove('active');
            // Clear any existing map points
            document.querySelectorAll('.map-point').forEach(el => el.remove());
            document.querySelectorAll('.connection-line').forEach(el => el.remove());
        }

        function createMapPoint(x, y) {
            const point = document.createElement('div');
            point.className = 'map-point active';
            point.style.left = `${x}%`;
            point.style.top = `${y}%`;
            trackingContainer.appendChild(point);

            // Remove after animation
            setTimeout(() => {
                point.remove();
            }, 2000);
        }

        async function startTrackingSimulation() {
            startTrackingBtn.disabled = true;
            startTrackingBtn.innerHTML = '<i data-feather="loader" class="spin"></i> Syncing...';
            feather.replace();

            trackingCard.classList.add('show');

            let scanned = 0;
            let updated = 0;

            // Simulate processing 10 random orders
            for (let i = 0; i < 10; i++) {
                const order = allOrders[Math.floor(Math.random() * allOrders.length)];

                // Update UI
                trackingOrderId.textContent = `ORD-${order.orderId}`;
                trackingStatus.textContent = "Locating Package...";
                trackingProgress.style.width = '0%';

                // Create random map point
                const x = 20 + Math.random() * 60;
                const y = 20 + Math.random() * 60;
                createMapPoint(x, y);

                // Simulate scanning progress
                await new Promise(resolve => {
                    let progress = 0;
                    const interval = setInterval(() => {
                        progress += 5;
                        trackingProgress.style.width = `${progress}%`;

                        if (progress >= 100) {
                            clearInterval(interval);
                            resolve();
                        }
                    }, 20);
                });

                trackingStatus.textContent = "Status Updated!";
                trackingStatus.style.color = "#10b981";

                scanned++;
                scannedCount.textContent = scanned;

                if (Math.random() > 0.3) {
                    updated++;
                    updatedCount.textContent = updated;
                }

                await new Promise(r => setTimeout(r, 500));

                // Reset for next
                trackingStatus.style.color = "var(--primary)";
            }

            trackingCard.classList.remove('show');
            startTrackingBtn.innerHTML = '<i data-feather="check"></i> Sync Complete';
            startTrackingBtn.style.background = "#10b981";
            startTrackingBtn.style.color = "#fff";
            feather.replace();

            setTimeout(() => {
                closeTrackingModal();
                startTrackingBtn.style.background = "";
                startTrackingBtn.style.color = "";
            }, 2000);
        }
        // Shopify Sync Simulation Logic
        const shopifyModal = document.getElementById('shopifyModal');
        const shopifyPulse = document.getElementById('shopifyPulse');
        const nexusPulse = document.getElementById('nexusPulse');
        const streamParticles = document.getElementById('streamParticles');
        const syncStatusText = document.getElementById('syncStatusText');
        const syncProgress = document.getElementById('syncProgress');
        const ordersSynced = document.getElementById('ordersSynced');
        const productsSynced = document.getElementById('productsSynced');
        const startSyncBtn = document.getElementById('startSyncBtn');
        const syncStage = document.querySelector('.sync-stage');

        function openShopifyModal() {
            shopifyModal.classList.add('active');
            resetSyncUI();
            feather.replace();
        }

        function closeShopifyModal() {
            shopifyModal.classList.remove('active');
            // Clean up any remaining particles
            document.querySelectorAll('.particle').forEach(el => el.remove());
            document.querySelectorAll('.flying-card').forEach(el => el.remove());
        }

        function resetSyncUI() {
            ordersSynced.textContent = '0';
            productsSynced.textContent = '0';
            syncProgress.style.width = '0%';
            syncStatusText.textContent = 'Ready to Sync';
            startSyncBtn.disabled = false;
            startSyncBtn.innerHTML = '<i data-feather="refresh-cw"></i> Start Import';
            startSyncBtn.style.background = "";
            startSyncBtn.style.color = "";
            shopifyPulse.classList.remove('active');
            nexusPulse.classList.remove('active');
        }

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = 'particle active';
            particle.style.top = `${40 + Math.random() * 20}%`;
            streamParticles.appendChild(particle);
            setTimeout(() => particle.remove(), 1500);
        }

        function createFlyingCard() {
            const card = document.createElement('div');
            card.className = 'flying-card active';
            card.innerHTML = `
                <div style="text-align: center;">
                    <i data-feather="shopping-bag" style="width: 16px; margin-bottom: 4px;"></i>
                    <div>ORD</div>
                </div>
            `;
            syncStage.appendChild(card);
            feather.replace();
            setTimeout(() => card.remove(), 1500);
        }

        async function startShopifySync() {
            startSyncBtn.disabled = true;
            startSyncBtn.innerHTML = '<i data-feather="loader" class="spin"></i> Syncing...';
            feather.replace();

            syncStatusText.textContent = 'Establishing Secure Connection...';
            shopifyPulse.classList.add('active');

            await new Promise(r => setTimeout(r, 1000));

            syncStatusText.textContent = 'Importing Data...';
            nexusPulse.classList.add('active');

            let progress = 0;
            let orders = 0;
            let products = 0;

            // Particle Stream Loop
            const particleInterval = setInterval(() => {
                createParticle();
                if (Math.random() > 0.7) createFlyingCard();
            }, 100);

            // Progress Loop
            while (progress < 100) {
                progress += Math.random() * 2;
                if (progress > 100) progress = 100;

                syncProgress.style.width = `${progress}%`;

                if (Math.random() > 0.5) {
                    orders += Math.floor(Math.random() * 3);
                    ordersSynced.textContent = orders;
                }

                if (Math.random() > 0.6) {
                    products += Math.floor(Math.random() * 5);
                    productsSynced.textContent = products;
                }

                await new Promise(r => setTimeout(r, 50));
            }

            clearInterval(particleInterval);

            syncStatusText.textContent = 'Sync Complete!';
            syncStatusText.style.color = '#96bf48';

            startSyncBtn.innerHTML = '<i data-feather="check"></i> Import Successful';
            startSyncBtn.style.background = "#96bf48";
            startSyncBtn.style.color = "#fff";
            feather.replace();

            setTimeout(() => {
                closeShopifyModal();
            }, 2000);
        }
    </script>
</body>

</html>